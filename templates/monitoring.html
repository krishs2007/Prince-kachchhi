<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Live Monitoring - Gujarat Coastal Alert System</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap"
        rel="stylesheet">

    <style>
        :root {
            /* Core Colors */
            --bg: #0a1628;
            --surface: rgba(255, 255, 255, 0.03);
            --surface-hover: rgba(255, 255, 255, 0.06);
            --text: #e8f4f8;
            --muted: #94a3b8;

            /* Accent Colors */
            --accent-green: #10b981;
            --accent-yellow: #f59e0b;
            --accent-red: #ef4444;
            --accent-blue: #3b82f6;

            /* Shadows / Glow */
            --glow-green: 0 0 20px rgba(16, 185, 129, 0.5);
            --glow-yellow: 0 0 20px rgba(245, 158, 11, 0.5);
            --glow-red: 0 0 20px rgba(239, 68, 68, 0.5);
            --glow-blue: 0 0 20px rgba(59, 130, 246, 0.5);

            /* Layout */
            --radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Global Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            overflow-x: hidden;
        }

        body {
            font-family: "Inter", system-ui, sans-serif;
            background: linear-gradient(135deg, #0a1628 0%, #1e293b 50%, #0f172a 100%);
            color: var(--text);
            -webkit-font-smoothing: antialiased;
            position: relative;
        }

        /* Background floating lights */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image:
                radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
            animation: drift 20s ease-in-out infinite;
        }

        @keyframes drift {
            0%, 100% { transform: translate(0, 0) rotate(0); }
            33% { transform: translate(-20px, -20px) rotate(1deg); }
            66% { transform: translate(20px, -10px) rotate(-1deg); }
        }

        /* Containers */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
            padding: 20px;
        }

        /* Navbar */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--surface);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 15px 30px;
            border-radius: var(--radius);
            margin-bottom: 30px;
            animation: slideDown 0.6s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .nav-brand {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .logo-box {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
        }

        .brand-text {
            font-size: 24px;
            font-weight: 800;
            background: linear-gradient(135deg, #fff, #94a3b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Navigation Links */
        .nav-links {
            display: flex;
            gap: 24px;
            align-items: center;
        }

        .nav-link {
            color: var(--muted);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 10px;
            transition: var(--transition);
        }

        .nav-link:hover {
            color: var(--text);
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-2px);
        }

        .nav-link.active {
            color: var(--accent-blue);
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        /* User section */
        .nav-user {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-info {
            text-align: right;
        }

        .user-name {
            font-weight: 700;
            font-size: 14px;
        }

        .user-role {
            font-size: 12px;
            color: var(--muted);
        }

        /* Buttons */
        .btn {
            padding: 8px 18px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: inline-block;
        }

        .btn-primary {
            background: var(--accent-blue);
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: var(--glow-blue);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Panels */
        .panel {
            background: var(--surface);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: var(--radius);
            padding: 25px;
            margin-top: 20px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .panel:hover {
            background: var(--surface-hover);
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }

        /* Monitoring Specific Styles */
        .monitoring-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .info-card {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 20px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .info-card:hover {
            transform: translateY(-3px);
            background: rgba(255,255,255,0.04);
        }

        .info-card::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-green), var(--accent-yellow));
            border-radius: 16px;
            opacity: 0;
            z-index: -1;
            transition: opacity 0.3s;
        }

        .info-card:hover::after {
            opacity: 0.1;
        }

        .info-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 800;
            font-size: 18px;
            margin-bottom: 15px;
        }

        .status-pill {
            position: absolute;
            right: 15px;
            top: 15px;
            width: 16px;
            height: 16px;
            border-radius: 8px;
            animation: pulse-dot 2s infinite;
        }

        .status-green { background: var(--accent-green); }
        .status-yellow { background: var(--accent-yellow); }
        .status-red { background: var(--accent-red); }

        @keyframes pulse-dot {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .metric-row:last-child {
            border-bottom: none;
        }

        .metric-label {
            color: var(--muted);
            font-weight: 500;
        }

        .metric-value {
            font-weight: 700;
        }

        .live-data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .real-time-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(16,185,129,0.1);
            border: 1px solid rgba(16,185,129,0.3);
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 12px;
            font-weight: 700;
            color: var(--accent-green);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .real-time-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: pulse-dot 1s infinite;
        }

        .location-selector {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 15px 20px;
            color: var(--text);
            font-weight: 600;
            margin-bottom: 20px;
            width: 100%;
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .action-btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 8px 16px;
            color: var(--text);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .action-btn:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }

        .action-btn.active {
            background: var(--accent-blue);
            color: white;
        }

        .alert-timeline {
            max-height: 400px;
            overflow-y: auto;
            border-radius: 12px;
            background: rgba(255,255,255,0.02);
            padding: 15px;
        }

        .timeline-item {
            display: flex;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            position: relative;
            animation: fadeInUp 0.3s ease-out;
        }

        .timeline-item:last-child {
            border-bottom: none;
        }

        .timeline-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-top: 5px;
            flex-shrink: 0;
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-title {
            font-weight: 700;
            margin-bottom: 5px;
        }

        .timeline-meta {
            color: var(--muted);
            font-size: 13px;
        }

        /* Color utilities */
        .safe { color: var(--accent-green); }
        .warning { color: var(--accent-yellow); }
        .danger { color: var(--accent-red); }
        .info { color: var(--accent-blue); }

        .loading {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-top-color: var(--accent-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: inline-block;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Text utilities */
        .text-center { text-align: center; }
        .text-muted { color: var(--muted); }
        .text-sm { font-size: 14px; }
        .font-semibold { font-weight: 600; }

        /* Flash messages */
        .flash-message {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 14px 18px;
            border-radius: 10px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideInRight 0.3s ease-out;
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
        }

        .flash-success {
            background: rgba(16, 185, 129, 0.1);
            border-color: rgba(16, 185, 129, 0.3);
            color: var(--accent-green);
        }

        .flash-error {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
            color: var(--accent-red);
        }

        .flash-info {
            background: rgba(59, 130, 246, 0.1);
            border-color: rgba(59, 130, 246, 0.3);
            color: var(--accent-blue);
        }

        /* Responsive */
        @media (max-width: 880px) {
            .monitoring-grid {
                grid-template-columns: 1fr;
            }
            .live-data-grid {
                grid-template-columns: 1fr;
            }
            .navbar {
                flex-direction: column;
                gap: 20px;
                padding: 20px;
            }
            .nav-links {
                gap: 12px;
            }
            .container {
                padding: 12px;
            }
            .brand-text {
                font-size: 20px;
            }
        }

        @media (max-width: 640px) {
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            .nav-user {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.02);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="nav-brand">
                <div class="logo-box">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 21l6-6" stroke="#fff" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M7 17l4-4" stroke="#10b981" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <circle cx="17" cy="7" r="4" stroke="#fff" stroke-width="2" fill="rgba(59,130,246,0.3)" />
                    </svg>
                </div>
                <div class="brand-text">Gujarat Coastal Alert</div>
            </div>

            <div class="nav-links">
                <a href="#" class="nav-link" data-page="dashboard">Dashboard</a>
                <a href="#" class="nav-link" data-page="alerts">Alerts</a>
                <a href="#" class="nav-link active" data-page="monitoring">Live Monitoring</a>
                <a href="#" class="nav-link" data-page="analytics">Analytics</a>
            </div>

            <div class="nav-user">
                <div class="user-info">
                    <div class="user-name">Dr. Rajesh Patel</div>
                    <div class="user-role">Coastal Monitor</div>
                </div>
                <a href="#" class="btn btn-secondary">Settings</a>
                <a href="#" class="btn btn-primary">Logout</a>
            </div>
        </nav>

        <!-- Header Section -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
            <div>
                <h1 style="font-size: 32px; font-weight: 900; margin-bottom: 8px;">Live Monitoring</h1>
                <p class="text-muted">Real-time coastal conditions and alert monitoring</p>
            </div>
            <div class="real-time-indicator">
                <div class="real-time-dot"></div>
                Live Data
            </div>
        </div>

        <!-- Location Selector -->
        <select class="location-selector" id="location-selector" onchange="filterByLocation()">
            <option value="">üåä All Gujarat Coastal Locations</option>
            <option value="Kandla">Kandla Port</option>
            <option value="Mundra">Mundra Port</option>
            <option value="Dwarka">Dwarka</option>
            <option value="Porbandar">Porbandar</option>
            <option value="Veraval">Veraval</option>
            <option value="Diu">Diu</option>
            <option value="Bhavnagar">Bhavnagar</option>
            <option value="Alang">Alang</option>
            <option value="Dahej">Dahej</option>
            <option value="Hazira">Hazira</option>
        </select>

        <!-- Live Data Grid -->
        <div class="live-data-grid">
            <div class="info-card">
                <div class="info-title">üå¨Ô∏è Meteorological</div>
                <div class="status-pill status-yellow"></div>
                <div class="metric-row">
                    <span class="metric-label">Wind Speed</span>
                    <span class="metric-value" id="wind-speed">18 km/h</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">6h Forecast</span>
                    <span class="metric-value warning" id="wind-forecast">32 km/h</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Pressure</span>
                    <span class="metric-value" id="pressure">1013.2 hPa</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">AI Confidence</span>
                    <span class="metric-value safe" id="weather-confidence">89%</span>
                </div>
            </div>

            <div class="info-card">
                <div class="info-title">üåä Oceanographic</div>
                <div class="status-pill status-red"></div>
                <div class="metric-row">
                    <span class="metric-label">Sea Level</span>
                    <span class="metric-value warning" id="sea-level">2.1m</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">6h Forecast</span>
                    <span class="metric-value danger" id="sea-forecast">2.8m</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Wave Height</span>
                    <span class="metric-value" id="wave-height">1.8m</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">AI Confidence</span>
                    <span class="metric-value safe" id="ocean-confidence">92%</span>
                </div>
            </div>

            <div class="info-card">
                <div class="info-title">üå°Ô∏è Thermal</div>
                <div class="status-pill status-yellow"></div>
                <div class="metric-row">
                    <span class="metric-label">Sea Surface Temp</span>
                    <span class="metric-value info" id="sst">27.2¬∞C</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Anomaly</span>
                    <span class="metric-value warning" id="temp-anomaly">+1.5¬∞C</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Heatwave Status</span>
                    <span class="metric-value warning" id="heatwave">Moderate</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">AI Confidence</span>
                    <span class="metric-value safe" id="thermal-confidence">85%</span>
                </div>
            </div>

            <div class="info-card">
                <div class="info-title">üíß Water Quality</div>
                <div class="status-pill status-yellow"></div>
                <div class="metric-row">
                    <span class="metric-label">Chlorophyll-a</span>
                    <span class="metric-value warning" id="chlorophyll">12.5 mg/m¬≥</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Turbidity</span>
                    <span class="metric-value" id="turbidity">4.2 NTU</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Trend</span>
                    <span class="metric-value warning" id="quality-trend">Increasing ‚Üó</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">AI Confidence</span>
                    <span class="metric-value safe" id="quality-confidence">87%</span>
                </div>
            </div>
        </div>

        <!-- Main Monitoring Panel -->
        <div class="monitoring-grid">
            <div class="panel">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="font-weight: 800; font-size: 20px;">üåä Live Coastal Monitoring</h3>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="refreshData()" id="refresh-btn">
                            üîÑ Refresh
                        </button>
                        <button class="btn btn-primary" onclick="simulateAlert()">
                            ‚ö° Simulate Alert
                        </button>
                    </div>
                </div>

                <!-- Geomorphology Section -->
                <div class="info-card" style="margin-bottom: 15px;">
                    <div class="info-title">üß≠ Geomorphology Predictions</div>
                    <div class="status-pill status-yellow"></div>
                    <div class="metric-row">
                        <span class="metric-label">Shoreline Change Rate</span>
                        <span class="metric-value warning" id="shoreline-rate">-1.2 cm/month</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Erosion Trend</span>
                        <span class="metric-value danger" id="erosion-trend">Eroding</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Beach Slope</span>
                        <span class="metric-value" id="beach-slope">0.045</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Intertidal Coverage</span>
                        <span class="metric-value" id="intertidal">78%</span>
                    </div>
                </div>

                <!-- Human Activity Section -->
                <div class="info-card" style="margin-bottom: 15px;">
                    <div class="info-title">üö¢ Human Activity Monitoring</div>
                    <div class="status-pill status-yellow"></div>
                    <div class="metric-row">
                        <span class="metric-label">Ship Density</span>
                        <span class="metric-value info" id="ship-density">45 vessels</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Dumping Hotspots</span>
                        <span class="metric-value warning" id="dumping-spots">2 detected</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Outfall Monitoring</span>
                        <span class="metric-value" id="outfall-status">6/8 active</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Last Activity</span>
                        <span class="metric-value" id="last-activity">1 hour ago</span>
                    </div>
                </div>

                <!-- Temporal Context Section -->
                <div class="info-card">
                    <div class="info-title">‚è±Ô∏è Temporal Context</div>
                    <div class="status-pill status-green"></div>
                    <div class="metric-row">
                        <span class="metric-label">Current Hour</span>
                        <span class="metric-value" id="current-hour">16:00</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Tide Status</span>
                        <span class="metric-value info" id="tide-status">Rising</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Season</span>
                        <span class="metric-value" id="season">Post-Monsoon</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Day Type</span>
                        <span class="metric-value" id="day-type">Weekend</span>
                    </div>
                </div>
            </div>

            <!-- Alert Timeline -->
            <div class="panel">
                <h3 style="font-weight: 800; font-size: 20px; margin-bottom: 20px;">
                    üìã Alert Timeline
                    <span class="text-muted text-sm" id="timeline-count">(8 events)</span>
                </h3>

                <div class="quick-actions">
                    <button class="action-btn active" onclick="filterTimeline('all')">All Events</button>
                    <button class="action-btn" onclick="filterTimeline('Red Alert')">Critical</button>
                    <button class="action-btn" onclick="filterTimeline('Warning')">Warnings</button>
                    <button class="action-btn" onclick="filterTimeline('Watch')">Watch</button>
                </div>

                <div class="alert-timeline" id="alert-timeline">
                    <!-- Timeline items will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Emergency Actions Panel -->
        <div class="panel" style="background: linear-gradient(135deg, rgba(239,68,68,0.1), rgba(239,68,68,0.05)); border-color: rgba(239,68,68,0.2);">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="font-weight: 800; font-size: 20px; color: var(--accent-red);">üö® Emergency Actions</h3>
                <div style="font-size: 14px; color: var(--muted);">
                    Last Emergency: <span id="last-emergency">No recent emergencies</span>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <button class="btn" onclick="triggerEmergency('evacuation')" 
                        style="background: var(--accent-red); color: white; padding: 15px;">
                    üö® Emergency Evacuation
                </button>
                <button class="btn" onclick="triggerEmergency('communication')" 
                        style="background: var(--accent-yellow); color: white; padding: 15px;">
                    üì¢ Mass Communication
                </button>
                <button class="btn" onclick="triggerEmergency('rescue')" 
                        style="background: var(--accent-blue); color: white; padding: 15px;">
                    üöÅ Deploy Rescue Teams
                </button>
                <button class="btn" onclick="triggerEmergency('coordination')" 
                        style="background: var(--accent-green); color: white; padding: 15px;">
                    üè¢ Agency Coordination
                </button>
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align:center;margin-top:40px;padding:20px;color:var(--muted);font-size:14px;">
            ¬© 2025 Gujarat Coastal Alert System ‚Ä¢ Powered by AI/DL Predictions
        </div>
    </div>

    <script>
        // Sample timeline data
        let timelineData = [
            {
                id: 1,
                threat_type: 'High Wave Activity',
                location: 'Porbandar',
                latitude: 21.6417,
                longitude: 69.6293,
                value: 2.8,
                risk_level: 'Red Alert',
                timestamp: new Date(Date.now() - 15 * 60000).toISOString(),
                details: 'Waves reaching dangerous heights'
            },
            {
                id: 2,
                threat_type: 'Storm Warning',
                location: 'Dwarka',
                latitude: 22.2394,
                longitude: 68.9678,
                value: 45,
                risk_level: 'Warning',
                timestamp: new Date(Date.now() - 45 * 60000).toISOString(),
                details: 'Moderate storm system approaching'
            },
            {
                id: 3,
                threat_type: 'Tide Monitoring',
                location: 'Kandla Port',
                latitude: 23.0333,
                longitude: 70.2167,
                value: 1.9,
                risk_level: 'Watch',
                timestamp: new Date(Date.now() - 75 * 60000).toISOString(),
                details: 'Higher than normal tide levels'
            },
            {
                id: 4,
                threat_type: 'Water Quality Alert',
                location: 'Hazira',
                latitude: 21.1167,
                longitude: 72.6167,
                value: 15.2,
                risk_level: 'Warning',
                timestamp: new Date(Date.now() - 2 * 60 * 60000).toISOString(),
                details: 'Elevated pollution levels detected'
            },
            {
                id: 5,
                threat_type: 'Ship Activity',
                location: 'Mundra Port',
                latitude: 22.8333,
                longitude: 69.7167,
                value: 67,
                risk_level: 'Watch',
                timestamp: new Date(Date.now() - 3 * 60 * 60000).toISOString(),
                details: 'High vessel density reported'
            },
            {
                id: 6,
                threat_type: 'Coastal Erosion',
                location: 'Veraval',
                latitude: 20.9000,
                longitude: 70.3667,
                value: -2.1,
                risk_level: 'Warning',
                timestamp: new Date(Date.now() - 4 * 60 * 60000).toISOString(),
                details: 'Accelerated erosion pattern detected'
            },
            {
                id: 7,
                threat_type: 'Temperature Anomaly',
                location: 'Diu',
                latitude: 20.7144,
                longitude: 70.9878,
                value: 29.8,
                risk_level: 'Watch',
                timestamp: new Date(Date.now() - 6 * 60 * 60000).toISOString(),
                details: 'Above normal sea surface temperature'
            },
            {
                id: 8,
                threat_type: 'System Check',
                location: 'Bhavnagar',
                latitude: 21.7645,
                longitude: 72.1519,
                value: 98,
                risk_level: 'Watch',
                timestamp: new Date(Date.now() - 8 * 60 * 60000).toISOString(),
                details: 'Routine sensor calibration completed'
            }
        ];

        let currentTimelineFilter = 'all';
        let selectedLocation = '';

        // Initialize monitoring system
        document.addEventListener('DOMContentLoaded', function() {
            updateTimeline();
            updateMetrics();
            startRealTimeUpdates();
            initializeNavigation();
            
            showToast('Live monitoring system activated', 'success');
        });

        // Navigation functionality
        function initializeNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    const page = this.dataset.page;
                    showToast(`Switched to ${page} view`, 'info');
                });
            });
        }

        // Real-time updates
        function startRealTimeUpdates() {
            setInterval(updateMetrics, 10000); // Update every 10 seconds
            setInterval(addRandomAlert, 45000); // Add new alert every 45 seconds
        }

        function updateMetrics() {
            const now = new Date();
            
            // Update temporal context
            document.getElementById('current-hour').textContent = 
                now.getHours() + ':' + String(now.getMinutes()).padStart(2, '0');
            
            // Simulate varying meteorological data
            const windBase = 15 + Math.sin(now.getTime() / 60000) * 8;
            document.getElementById('wind-speed').textContent = Math.round(windBase) + ' km/h';
            document.getElementById('wind-forecast').textContent = Math.round(windBase * 1.8) + ' km/h';
            document.getElementById('pressure').textContent = (1013 + (Math.random() - 0.5) * 8).toFixed(1) + ' hPa';
            
            // Oceanographic data
            const seaBase = 2.0 + Math.sin(now.getTime() / 120000) * 0.4;
            document.getElementById('sea-level').textContent = seaBase.toFixed(1) + 'm';
            document.getElementById('sea-forecast').textContent = (seaBase + 0.7).toFixed(1) + 'm';
            document.getElementById('wave-height').textContent = (1.5 + Math.random() * 0.6).toFixed(1) + 'm';
            
            // Thermal data
            document.getElementById('sst').textContent = (27 + (Math.random() - 0.5) * 2).toFixed(1) + '¬∞C';
            document.getElementById('temp-anomaly').textContent = '+' + (1.2 + Math.random() * 0.8).toFixed(1) + '¬∞C';
            
            // Water quality
            document.getElementById('chlorophyll').textContent = (12 + Math.random() * 4).toFixed(1) + ' mg/m¬≥';
            document.getElementById('turbidity').textContent = (4 + Math.random() * 2).toFixed(1) + ' NTU';
            
            // Human activity
            document.getElementById('ship-density').textContent = Math.floor(40 + Math.random() * 25) + ' vessels';
            document.getElementById('dumping-spots').textContent = Math.floor(Math.random() * 4) + ' detected';
            
            // Geomorphology
            document.getElementById('shoreline-rate').textContent = (-1.2 + (Math.random() - 0.5) * 0.4).toFixed(1) + ' cm/month';
            document.getElementById('intertidal').textContent = Math.floor(75 + Math.random() * 10) + '%';
        }

        function updateTimeline() {
            const container = document.getElementById('alert-timeline');
            let filteredData = timelineData;
            
            // Apply location filter
            if (selectedLocation) {
                filteredData = filteredData.filter(alert => 
                    alert.location.toLowerCase().includes(selectedLocation.toLowerCase())
                );
            }
            
            // Apply timeline filter
            if (currentTimelineFilter !== 'all') {
                filteredData = filteredData.filter(alert => alert.risk_level === currentTimelineFilter);
            }

            document.getElementById('timeline-count').textContent = `(${filteredData.length} events)`;

            if (filteredData.length === 0) {
                container.innerHTML = '<div class="text-center text-muted">No events found for current filters</div>';
                return;
            }

            container.innerHTML = filteredData.slice(0, 20).map(alert => {
                const dotColor = alert.risk_level === 'Red Alert' ? 'var(--accent-red)' :
                               alert.risk_level === 'Warning' ? 'var(--accent-yellow)' : 'var(--accent-blue)';
                
                return `
                    <div class="timeline-item">
                        <div class="timeline-dot" style="background: ${dotColor};"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">${alert.threat_type}</div>
                            <div class="timeline-meta">
                                üìç ${alert.location} ‚Ä¢ 
                                üïí ${formatRelativeTime(alert.timestamp)} ‚Ä¢ 
                                üìä ${alert.risk_level}
                                ${alert.value ? ` ‚Ä¢ Value: ${alert.value.toFixed(1)}` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterTimeline(filter) {
            currentTimelineFilter = filter;
            updateTimeline();
            
            // Update button states
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            showToast(`Filtered to ${filter === 'all' ? 'all events' : filter + ' events'}`, 'info');
        }

        function filterByLocation() {
            selectedLocation = document.getElementById('location-selector').value;
            updateTimeline();
            
            if (selectedLocation) {
                showToast(`Showing data for ${selectedLocation}`, 'info');
            } else {
                showToast('Showing data for all locations', 'info');
            }
        }

        function refreshData() {
            const refreshBtn = document.getElementById('refresh-btn');
            const originalContent = refreshBtn.innerHTML;
            refreshBtn.innerHTML = 'üîÑ <div class="loading"></div>';
            
            setTimeout(() => {
                refreshBtn.innerHTML = originalContent;
                updateMetrics();
                showToast('Live data refreshed successfully', 'success');
            }, 2000);
        }

        function simulateAlert() {
            const threats = ['High Tide Warning', 'Storm Activity', 'Pollution Spike', 'Coastal Erosion', 'Ship Collision Risk'];
            const locations = ['Kandla Port', 'Mundra Port', 'Bhavnagar', 'Hazira', 'Dwarka', 'Porbandar', 'Veraval'];
            const riskLevels = ['Watch', 'Warning', 'Red Alert'];
            
            const newAlert = {
                id: timelineData.length + 1,
                threat_type: threats[Math.floor(Math.random() * threats.length)],
                location: locations[Math.floor(Math.random() * locations.length)],
                latitude: 21.0 + Math.random() * 2,
                longitude: 69.0 + Math.random() * 4,
                value: Math.random() * 100,
                risk_level: riskLevels[Math.floor(Math.random() * riskLevels.length)],
                timestamp: new Date().toISOString(),
                details: 'AI-generated alert for demonstration'
            };

            timelineData.unshift(newAlert);
            timelineData = timelineData.slice(0, 50); // Keep only recent 50
            
            updateTimeline();
            showToast(`New ${newAlert.risk_level} alert: ${newAlert.threat_type}`, 
                     newAlert.risk_level === 'Red Alert' ? 'error' : 'info');
        }

        function triggerEmergency(type) {
            const emergencyTypes = {
                'evacuation': 'Emergency Evacuation Protocol',
                'communication': 'Mass Communication System',
                'rescue': 'Rescue Team Deployment',
                'coordination': 'Inter-Agency Coordination'
            };

            const confirmed = confirm(
                `Are you sure you want to trigger: ${emergencyTypes[type]}?\n\n` +
                `This will send notifications to all registered users and activate emergency protocols.`
            );
            
            if (confirmed) {
                // Add emergency to timeline
                const emergencyAlert = {
                    id: timelineData.length + 1,
                    threat_type: 'EMERGENCY PROTOCOL',
                    location: 'Gujarat Coastline',
                    latitude: 21.5,
                    longitude: 70.5,
                    value: 100,
                    risk_level: 'Red Alert',
                    timestamp: new Date().toISOString(),
                    details: `${emergencyTypes[type]} activated by system operator`
                };

                timelineData.unshift(emergencyAlert);
                updateTimeline();
                
                // Update last emergency display
                document.getElementById('last-emergency').textContent = 
                    `${emergencyTypes[type]} - ${formatTime(new Date())}`;
                
                showToast(`üö® EMERGENCY ACTIVATED: ${emergencyTypes[type]}`, 'error');
                
                // Simulate emergency response delay
                setTimeout(() => {
                    showToast(`Emergency teams notified and responding`, 'info');
                }, 3000);
            }
        }

        function addRandomAlert() {
            const threats = [
                'Sensor Data Update', 'Tide Level Change', 'Weather Update', 
                'Pollution Reading', 'Ship Movement', 'System Maintenance'
            ];
            const locations = ['Kandla Port', 'Mundra Port', 'Bhavnagar', 'Hazira', 'Dwarka', 'Porbandar'];
            const riskLevels = ['Watch', 'Watch', 'Watch', 'Warning']; // Mostly routine
            
            const randomAlert = {
                id: timelineData.length + 1,
                threat_type: threats[Math.floor(Math.random() * threats.length)],
                location: locations[Math.floor(Math.random() * locations.length)],
                latitude: 21.0 + Math.random() * 2,
                longitude: 69.0 + Math.random() * 4,
                value: Math.random() * 50,
                risk_level: riskLevels[Math.floor(Math.random() * riskLevels.length)],
                timestamp: new Date().toISOString(),
                details: 'Routine monitoring update'
            };

            timelineData.unshift(randomAlert);
            timelineData = timelineData.slice(0, 100); // Keep recent 100
            
            if (currentTimelineFilter === 'all' || currentTimelineFilter === randomAlert.risk_level) {
                updateTimeline();
            }
        }

        function showToast(message, type = 'info') {
            // Remove existing toasts
            document.querySelectorAll('.flash-message').forEach(toast => toast.remove());
            
            const toast = document.createElement('div');
            toast.className = `flash-message flash-${type}`;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(100%)';
                setTimeout(() => toast.remove(), 300);
            }, 4000);
        }

        // Utility functions
        function formatTime(timestamp) {
            return new Date(timestamp).toLocaleTimeString('en-IN', {
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        function formatRelativeTime(timestamp) {
            const now = new Date();
            const time = new Date(timestamp);
            const diff = Math.floor((now - time) / 60000); // minutes

            if (diff < 1) return 'Just now';
            if (diff < 60) return `${diff}m ago`;
            if (diff < 1440) return `${Math.floor(diff / 60)}h ago`;
            return `${Math.floor(diff / 1440)}d ago`;
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 'r':
                        e.preventDefault();
                        refreshData();
                        break;
                    case 's':
                        e.preventDefault();
                        simulateAlert();
                        break;
                    case '1':
                        e.preventDefault();
                        filterTimeline('all');
                        break;
                    case '2':
                        e.preventDefault();
                        filterTimeline('Red Alert');
                        break;
                    case '3':
                        e.preventDefault();
                        filterTimeline('Warning');
                        break;
                    case '4':
                        e.preventDefault();
                        filterTimeline('Watch');
                        break;
                }
            }
        });

        // Show initial instructions
        setTimeout(() => {
            showToast('Use filters to view specific alert types ‚Ä¢ Ctrl+R to refresh ‚Ä¢ Ctrl+S to simulate alert', 'info');
        }, 2000);

        // Simulate connection status
        function updateConnectionStatus() {
            // This would connect to actual WebSocket in real implementation
            console.log('Monitoring system connected and receiving live data');
        }

        updateConnectionStatus();
    </script>
</body>

</html>
